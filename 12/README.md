# 12

<p>The sequence of triangle numbers is generated by adding the natural numbers. So the $7$<sup>th</sup> triangle number would be $1 + 2 + 3 + 4 + 5 + 6 + 7 = 28$. The first ten terms would be:
$$1, 3, 6, 10, 15, 21, 28, 36, 45, 55, \dots$$</p>
<p>Let us list the factors of the first seven triangle numbers:</p>
\begin{align}
\mathbf 1 &amp;\colon 1\\
\mathbf 3 &amp;\colon 1,3\\
\mathbf 6 &amp;\colon 1,2,3,6\\
\mathbf{10} &amp;\colon 1,2,5,10\\
\mathbf{15} &amp;\colon 1,3,5,15\\
\mathbf{21} &amp;\colon 1,3,7,21\\
\mathbf{28} &amp;\colon 1,2,4,7,14,28
\end{align}
<p>We can see that $28$ is the first triangle number to have over five divisors.</p>
<p>What is the value of the first triangle number to have over five hundred divisors?</p>

## Strategy

Firstly, if $T_n$ is the $n$-th triangle number and $T_1=1$, $T_{n+1}=T_n+n+1$.
We are sort of looking for a highly composite number, except over the triangle numbers instead of integers. The distribution of such numbers depends on the prime distribution, so there's no trick to it, need to test them all.
We do need an efficient way to calculate the number of divisors. The prime factorization is sufficient information: the number of divisors is the product of the exponents in the prime factorization plus one. So we iterate over the integers, calculate its power in the prime factorization (may be 0), and at the end of each prime, update the number of divisors.
